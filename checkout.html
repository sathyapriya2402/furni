<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout - Wooden Dreams</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; }
    :root { --cream: #FFF3E3; --gold: #B88E2F; --green: #2EC1AC; }

   @keyframes spin-slow {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .animate-spin-slow {
      animation: spin-slow 3s linear infinite;
    }

    #preloader {
      transition: opacity 1s ease, filter 1s ease;
    }

    #preloader.fade-out {
      opacity: 0;
      filter: blur(10px);
      pointer-events: none;
    }

    body { font-family: 'Poppins', sans-serif; }
    .section-title { color: #B88E2F; font-weight: 700; margin-bottom: 1rem; }
    .btn-gold { background-color: #B88E2F; color: white; }
    .btn-gold:hover { background-color: #a37c25; }
    .checkout-card { border: 1px solid #e0e0e0; padding: 20px; border-radius: 10px; background: #fff; }
  </style>
</head>
<body>

 <!-- Header -->
  <header class="bg-[#B88E2F;] py-4">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-6">
      <div class="flex items-center gap-2">
        <img src="assets/logo.png" alt="Logo" class="w-10 h-10">
        <h1 class="font-bold text-lg text-[#FFFFFF]">Wooden Dreams</h1>
      </div>
      <nav class="hidden md:flex space-x-6 text-sm  text-[#FFFFFF] text-700 font-semibold">
        <a href="home.html">Home</a>
        <a href="about.html">About Us</a>
        <a href="categories.html">Categories</a>
        <a href="shop.html">Shop</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
      </nav>
      <div class="flex items-center  gap-3">
        <button><img src="assets/search.png" class="w-8" alt="Search"></button>
        <button><img src="assets/cart.png" class="w-8" alt="Cart"></button>
        <button><img src="assets/heart.png" class="w-8" alt="Liked"></button>
       <div class="ml-auto">
  <button id="authBtn" class="text-sm bg-[#B88E2F] text-white px-6 py-2 rounded-none uppercase font-semibold hover:bg-[#9c731f] transition duration-300">
    Logout
  </button>
</div>

      </div>
    </div>
  </header>
<!-- Hero Banner -->
<section class="bg-cover bg-center text-center py-5" style="background-image: url('assets/check.png');">
  <h2 class="text-3xl font-bold">Shop</h2>
  <p class="text-sm text-gray-700">Home > Checkout</p>
</section>


<!-- Checkout Section -->
<div class="container my-5">
  <h2 class="text-center section-title">Checkout</h2>
  <div class="row g-5">

    <!-- Billing -->
    <div class="col-lg-7">
      <div class="checkout-card">
        <h5 class="fw-bold mb-3">Billing Details</h5>
        <form id="billing-form">
          <div class="row g-3">
            <div class="col-md-6"><label class="form-label">First Name</label><input type="text" class="form-control" name="firstName" required></div>
            <div class="col-md-6"><label class="form-label">Last Name</label><input type="text" class="form-control" name="lastName" required></div>
            <div class="col-md-12"><label class="form-label">Email</label><input type="email" class="form-control" name="email" required></div>
            <div class="col-md-12"><label class="form-label">Phone</label><input type="tel" class="form-control" name="phone" required></div>
            <div class="col-md-12"><label class="form-label">Address</label><textarea class="form-control" rows="3" name="address" required></textarea></div>
            <div class="col-md-6"><label class="form-label">City</label><input type="text" class="form-control" name="city" required></div>
            <div class="col-md-6"><label class="form-label">Pincode</label><input type="text" class="form-control" name="pincode" required></div>
          </div>
        </form>
      </div>
    </div>

    <!-- Order Summary -->
    <div class="col-lg-5">
      <div class="checkout-card">
        <h5 class="fw-bold mb-3">Your Order</h5>
        <div id="order-summary"></div>

        <div class="mb-3 mt-2">
          <label class="form-label">Promo Code</label>
          <div class="d-flex gap-2">
            <input type="text" class="form-control" id="promo-code" placeholder="Enter code">
            <button class="btn btn-outline-success" id="apply-code">Apply</button>
          </div>
          <div id="promo-message" class="text-success small mt-1"></div>
        </div>

        <hr>
        <div class="d-flex justify-content-between">
          <span>Subtotal</span>
          <span id="summary-subtotal">Rs. 0</span>
        </div>
        <div class="d-flex justify-content-between">
          <span>Shipping</span>
          <span id="summary-shipping">Rs. 0</span>
        </div>
        <div class="d-flex justify-content-between">
          <span>GST (18%)</span>
          <span id="summary-tax">Rs. 0</span>
        </div>
        <div class="d-flex justify-content-between fw-bold">
          <span>Total</span>
          <span id="checkout-total">Rs. 0</span>
        </div>
        <button class="btn btn-gold w-100 mt-4" id="place-order">Place Order</button>
      </div>

      <div class="mt-4">
        <h6>Payment Method</h6>
        <div class="form-check"><input class="form-check-input" type="radio" name="payment" value="COD" checked> <label class="form-check-label">Cash on Delivery</label></div>
        <div class="form-check mt-1">
          <input class="form-check-input" type="radio" name="payment" value="Bank">
          <label class="form-check-label">Bank Transfer</label>
          <p> Your personal data will be used to support your experience 
throughout this website, to manage access to your account, and 
for other purposes described in our privacy policy</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let shippingFee = 199;
  let promoDiscount = 0;

  function calculateTotal() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const orderDiv = document.getElementById('order-summary');
    const subtotalDisplay = document.getElementById('summary-subtotal');
    const shippingDisplay = document.getElementById('summary-shipping');
    const taxDisplay = document.getElementById('summary-tax');
    const totalDisplay = document.getElementById('checkout-total');

    orderDiv.innerHTML = '';
    let subtotal = 0;

    cart.forEach(item => {
      const qty = item.qty || item.quantity || 1;
      const price = parseFloat(item.price);
      const itemTotal = qty * price;
      subtotal += itemTotal;

      const row = document.createElement('div');
      row.className = 'd-flex justify-content-between mb-2';
      row.innerHTML = `<span>${item.name} Ã— ${qty}</span><span>Rs. ${itemTotal.toLocaleString()}</span>`;
      orderDiv.appendChild(row);
    });

    // Free shipping condition
    shippingFee = subtotal > 10000 ? 0 : 199;
    const tax = subtotal * 0.18;
    const discount = promoDiscount > 0 ? subtotal * (promoDiscount / 100) : 0;
    const total = subtotal + shippingFee + tax - discount;

    subtotalDisplay.textContent = `Rs. ${subtotal.toLocaleString()}`;
    shippingDisplay.textContent = `Rs. ${shippingFee}`;
    taxDisplay.textContent = `Rs. ${Math.round(tax).toLocaleString()}`;
    totalDisplay.textContent = `Rs. ${Math.round(total).toLocaleString()}`;
  }

  document.addEventListener('DOMContentLoaded', () => {
    calculateTotal();

    document.getElementById('apply-code').addEventListener('click', function (e) {
      e.preventDefault();
      const code = document.getElementById('promo-code').value.trim().toUpperCase();
      const msg = document.getElementById('promo-message');
      if (code === 'FURNI10') {
        promoDiscount = 10;
        msg.textContent = 'ðŸŽ‰ Promo code applied! You got 10% off.';
      } else {
        promoDiscount = 0;
        msg.textContent = 'âŒ Invalid promo code.';
      }
      calculateTotal();
    });

    document.getElementById('place-order').addEventListener('click', () => {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      if (cart.length === 0) return alert('Your cart is empty.');

      // Save billing form
      const form = document.getElementById('billing-form');
      const formData = new FormData(form);
      const billingInfo = {};
      for (let [key, value] of formData.entries()) billingInfo[key] = value;
      localStorage.setItem('billingInfo', JSON.stringify(billingInfo));

      localStorage.setItem('lastOrder', JSON.stringify(cart));
      localStorage.removeItem('cart');

      alert("âœ… Order placed successfully!");
      window.location.href = 'thankyou.html';
    
  const name = `${billingInfo.firstName || ''} ${billingInfo.lastName || ''}`.trim();
      const address = `${billingInfo.address || ''}, ${billingInfo.city || ''}, ${billingInfo.pincode || ''}`.trim();
      localStorage.setItem('customerName', name);
      localStorage.setItem('customerAddress', address);

      // Estimated delivery: today + 5 days
      const deliveryDate = new Date();
      deliveryDate.setDate(deliveryDate.getDate() + 5);
      const formattedDate = deliveryDate.toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' });
      localStorage.setItem('estimatedDelivery', formattedDate);

      // Save cart as lastOrder and redirect
      localStorage.setItem('lastOrder', JSON.stringify(cart));
      localStorage.removeItem('cart');

      alert("âœ… Order placed successfully!");
      window.location.href = 'thankyou.html';
    });
  });
</script>
 <!-- Footer -->
  <footer class="bg-[#B88E2F] text-white font-[Poppins] pt-12 pb-6 px-6 md:px-12">
  <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10">

    <!-- Left: Logo and Description -->
    <div class="col-span-1 md:col-span-2">
      <div class="flex items-center mb-4">
        <img src="assets/logo.png" alt="Logo" class="w-10 h-10 mr-2">
        <h2 class="text-xl font-bold">Wooden Dreams</h2>
      </div>
      <p class="text-sm mb-4 max-w-md leading-relaxed">
        "At Wooden Dreams, we craft furniture that brings warmth and comfort to your home. Our wooden creations are designed to inspire sweet dreams and peaceful nights. Every piece is carefully crafted to provide a haven of relaxation and tranquility. Sleep tight, dream big with Wooden Dreams."
      </p>
      <div class="space-y-2 text-sm">
        <p class="flex items-center gap-2">
          <img src="assets/location.png" alt="location" class="w-4 h-4"> 
          Head Office: 13/5, Post office opposite, Chennai.876543
        </p>
        <p class="flex items-center gap-2">
          <img src="assets/globe.png" alt="website" class="w-4 h-4"> 
          www.woodendreams.in
        </p>
        <p class="flex items-center gap-2">
          <img src="assets/mail.png" alt="mail" class="w-4 h-4"> 
          woodendreams@gamil.com
        </p>
      </div>
    </div>

    <!-- Middle: Links -->
    <div>
      <h4 class="font-bold mb-4 uppercase">Links</h4>
      <ul class="space-y-2 text-sm">
        <li><a href="#" class="hover:underline">Home</a></li>
        <li><a href="#" class="hover:underline">About</a></li>
        <li><a href="#" class="hover:underline">Categories</a></li>
        <li><a href="#" class="hover:underline">Shop</a></li>
        <li><a href="#" class="hover:underline">Blog</a></li>
        <li><a href="#" class="hover:underline">Contact</a></li>
      </ul>
    </div>

    <!-- Right: Help + Newsletter -->
    <div>
      <h4 class="font-bold mb-4 uppercase">Help</h4>
      <ul class="space-y-2 text-sm mb-6">
        <li><a href="#" class="hover:underline">Payment Options</a></li>
        <li><a href="#" class="hover:underline">Returns</a></li>
        <li><a href="#" class="hover:underline">Privacy Policies</a></li>
      </ul>

      <h4 class="font-bold mb-2 text-lg">Subscribe</h4>
      <div class="flex">
        <input type="email" placeholder="Enter your email" class="px-3 py-2 rounded-l-md text-sm text-black focus:outline-none w-full">
        <button class="bg-white text-[#B88E2F] font-bold px-4 py-2 rounded-r-md hover:bg-gray-100 text-sm">SIGN UP</button>
      </div>
    </div>
  </div>

  <!-- Social + Bottom -->
  <div class="max-w-7xl mx-auto mt-10 border-t border-white pt-4 flex flex-col md:flex-row items-center justify-between px-4 text-sm">
    <p class="text-white">&copy; 2025 Wooden Dreams. All rights reserved</p>
    <div class="flex items-center gap-3 mt-4 md:mt-0">
      <span class="font-semibold text-white">Follow Us</span>
      <div class="flex gap-2">
        <a href="#"><img src="assets/instagram.png" alt="Instagram" class="w-6 h-6 bg-#B88E2F p-1 rounded-md"></a>
        <a href="#"><img src="assets/google.png" alt="Google" class="w-6 h-6 bg-#B88E2F p-1 rounded-md"></a>
        <a href="#"><img src="assets/facebook.png" alt="Facebook" class="w-6 h-6 bg-#B88E2F p-1 rounded-md"></a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
